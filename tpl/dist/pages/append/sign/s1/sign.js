define("pages/append/sign/s1/sign",["pages/append/sign/s1/sign.css","lib/utils/comUtils"],function(s){var i='<div class="smssignbig"><div class="smssign smscomeout"><div class="sms-hudie"><img src="/tpl/pages/append/sign/s1/img/buttefly.gif"></div><div class="sms-card-title">Invitation.Receipt</div><div class="sms-short-title">邀请回执</div><div class="sms-form-row"><input type="text"name="guestName"class="input-row"placeholder="宾客姓名"></div><div class="sms-form-row"><select name="joinNumber"class="input-row"style="padding-left: 129px;"><option value="1"selected="selected">1人</option><option value="2">2人</option><option value="3">3人</option><option value="4">4人</option><option value="5">5人</option><option value="6">6人</option><option value="0">不出席</option></select></div><div class="sms-form-row peoplefrom"><select name="ext1"class="input-row"style="padding-left: 129px;"><option style="text-align:center;"value="男方亲友"selected="selected">男方</option><option style="text-align:center;"value="女方亲友">女方</option></select></div><div class="sms-form-row"><input name="phoneNo"type="text"class="input-row"placeholder="宾客手机号码(选填)"></div><div class="sms-form-submit"><div class="sms-buttom"><span class="sms-submit">提交</span></div><div class="sms-buttom"><span class="sms-cancle">关闭</span></div></div><div class="sms-note">PS：填写以上信息以方便邀请人统计来宾人数！</div></div></div>';s("pages/append/sign/s1/sign.css");var t=s("lib/utils/comUtils"),e=(t.isMobile(),"click",function(){this.isShow=!1,this.tpl="",this.$body=$("body"),this.$dom="",this.notWechatTip="该功能需要在微信浏览器中操作！",this.setting={}});return e.fn=e.prototype,e.fn.initSubmit=function(){var s=this,i=s.$dom.find('input[name="guestName"]').val(),e=s.$dom.find('select[name="joinNumber"]').val(),o=s.$dom.find('select[name="ext1"]'),n="";o.length>0&&(n=o.val());var d=s.$dom.find('input[name="phoneNo"]').val();if(!i)return void t.Toptips.show("warn","宾客姓名不能为空!");var l={guestName:i,joinNumber:e,phoneNo:d,ext1:n},a=liveApp.caseData.id,m=$.extend({sitecode:a},{reply:l});t.ajax.RESTful("/ci/guest/reply/saveReply","post",m,function(i){200==i.ecode?(t.Toast.show("info",i.msg),s.$dom.remove()):t.Toptips.show("warn",i.msg)})},e.fn.init=function(s,e){var o=this;this.$dom=$(i),e&&(this.$body=$(e)),"1001"!=s.schemecode?this.$dom.find(".peoplefrom").remove():(this.$dom.find(".sms-card-title").text("Wedding . Receipt"),this.$dom.find(".sms-short-title").text("欢迎参加我们的婚礼")),s.desc&&this.$dom.find(".sms-short-title").text(s.desc),this.$dom.find(".sms-card-title").css({color:s.baseColor}),this.$dom.find(".sms-short-title").css({color:s.baseColor}),this.$dom.find(".sms-submit").css({"background-color":s.baseColor}),this.$dom.find(".sms-cancle").on("click",function(){o.$dom.remove()}),this.$dom.find(".sms-submit").on("click",function(){t.checkAppLogin(function(){o.initSubmit()})}),this.$body.append(this.$dom),this.$dom.show()},e});